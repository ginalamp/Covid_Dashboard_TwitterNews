---
title: "R Notebook"
output: html_notebook
---

```{r Setup}
library(tidyverse)
library(lubridate)
```
table4a %>% 
  pivot_longer(c(`1999`, `2000`), names_to = "year", values_to = "cases")
```{r Data: Confirmed Cases}
data <- read.csv("data/covid19za_provincial_cumulative_timeline_confirmed.csv")
head(data)
```
```{r Tidy data}
cases <- data %>% pivot_longer(c('EC', 'FS', 'GP', 'KZN', 'LP', 'MP', 'NC', 'NW', 'WC', 'UNKNOWN'), names_to = "province", values_to = "cases")
cases <- cases %>% 
  select(date, province, cases, total)  %>% 
  filter(province != 'UNKNOWN')
cases <- cases %>% mutate(date = dmy(date))

head(cases)
```


```{r Plot}
ggplot(cases, aes(date, cases)) + 
  geom_smooth(color = "blue") + 
  scale_y_continuous(breaks = seq(0, 1000000, by = 100000), limits = c(0, 1000000), labels = NULL) +
  scale_x_date(labels = NULL) +
  facet_wrap(~ province, nrow = 2)

```

